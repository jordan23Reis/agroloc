<div [ngClass]="isMobile === true ? 'mobForm' : 'webForm'">
  <div class="content">
    <div class="header">
      <div style="flex: 1 1 auto"></div>
      <div style="display: flex; width: 40%; height: 100%">
        <img
          style="
            border-radius: 100%;
            object-fit: cover;
            height: 80%;
            width: 200px;
            align-self: center;
            justify-self: center;
          "
          [src]="(searchItem | async)?.ImagemPrincipal?.Url"
          alt=""
        />
      </div>
      <div
        style="display: flex; flex-direction: column; width: 40%; height: 100%"
      >
        <div
          style="
            display: flex;
            height: 50%;
            align-items: center;
            justify-content: center;
          "
        >
          <h3 style="cursor: pointer" (click)="moveToItem()">
            {{ (searchItem | async)?.Nome }}
          </h3>
        </div>
        <div
          style="
            display: flex;
            height: 50%;
            align-items: center;
            justify-content: center;
          "
        >
          <p>Estado do Processo: {{ (processItem | async)?.Status }}</p>
        </div>
      </div>
      <div style="flex: 1 1 auto"></div>
    </div>

    <div
      *ngIf="loadingProcessLocatario"
      class="messageLoading Espera"
      style="margin-top: 30px"
    >
      <mat-icon class="searchIcon">more_horiz</mat-icon>
      <h2>Esperando Resposta</h2>
      <mat-icon class="searchIcon">more_horiz</mat-icon>
    </div>

    <div
      *ngIf="loadingProcessLocador"
      class="messageLoading Espera"
      style="margin-top: 30px"
    >
      <mat-icon class="searchIcon">more_horiz</mat-icon>
      <h2>Esperando Resposta</h2>
      <mat-icon class="searchIcon">more_horiz</mat-icon>
    </div>

    <div
      *ngIf="loadingProcessFreteiro"
      class="messageLoading Espera"
      style="margin-top: 30px"
    >
      <mat-icon class="searchIcon">more_horiz</mat-icon>
      <h2>Esperando Resposta</h2>
      <mat-icon class="searchIcon">more_horiz</mat-icon>
    </div>

    <div
      *ngIf="etapaAceitarProcesso"
      class="message AceitarProcesso"
      style="margin-top: 30px"
    >
      <h2>Processo de Aluguel Solicitado</h2>
    </div>
    <div *ngIf="etapaAceitarProcesso" class="content AceitarProcesso">
      <div class="message" style="margin-top: 30px">
        <h2>Quem esta Solicitando?</h2>
      </div>
      <div class="inicio">
        <img [src]="'assets/default-account-icon.png'" />
        <h2>Ola, meu nome é {{ infoLocatario?.CadastroComum?.Nome }}</h2>

        <div style="display: flex; flex-direction: row; width: 100%">
          <div style="flex: 1 1 auto"></div>
          <button mat-raised-button color="accent" style="margin: 30px">
            Recusar
          </button>
          <button
            mat-raised-button
            color="primary"
            style="margin: 30px"
            (click)="acceptProcess()"
          >
            Aceitar
          </button>
        </div>
      </div>
    </div>

    <div
      *ngIf="estapaAguardandoSelecaoFrete"
      class="message SelecaoFrete"
      style="margin-top: 30px"
    >
      <h2>Aguardando escolha de Frete</h2>
    </div>
    <div *ngIf="estapaAguardandoSelecaoFrete" class="content SelecaoFrete">
      <div class="message" style="margin-top: 30px">
        <h2>Procure por um freteiro</h2>
      </div>
      <div class="inicio">
        <mat-form-field style="width: 60%" class="example-form-field">
          <mat-label>Valor do Frete</mat-label>
          <input [formControl]="myControlValue" type="number" matInput />
        </mat-form-field>
        <mat-form-field style="width: 60%" class="example-form-field">
          <mat-label>Pesquisar freteiro por Nome</mat-label>
          <input
            #search
            type="text"
            matInput
            [formControl]="myControlFrete"
            [matAutocomplete]="auto"
          />
          <mat-autocomplete autoActiveFirstOption #auto="matAutocomplete">
            <mat-option
              *ngFor="let option of filteredOptionsSubscribe | async"
              [value]="option"
            >
              {{ option }}
            </mat-option>
          </mat-autocomplete>
        </mat-form-field>

        <div
          style="
            display: flex;
            flex-direction: row;
            width: 100%;
            align-self: last baseline;
          "
        >
          <div style="flex: 1 1 auto"></div>
          <button
            mat-raised-button
            color="accent"
            style="margin: 30px"
            (click)="skipFrete()"
          >
            Pular
          </button>
          <button mat-raised-button color="primary" style="margin: 30px">
            Concluir
          </button>
        </div>
      </div>
    </div>

    <div *ngIf="false" class="message AceitarFrete" style="margin-top: 30px">
      <h2>Processo de Frete Solicitado</h2>
    </div>
    <div *ngIf="false" class="content AceitarFrete">
      <div class="message" style="margin-top: 30px">
        <h2>Quem esta Solicitando?</h2>
      </div>
      <div class="inicio">
        <img [src]="'assets/default-account-icon.png'" />
        <h2>Ola, meu nome é (nome solicitante)</h2>
        <h3>R$30000</h3>
        <h3>Minhas informações:</h3>
        <div style="width: 60%">
          <p><strong>Meu Contato:</strong></p>
          <div>
            <mat-divider></mat-divider>
            <p>Email - jordan.reis@alunos.unicesumar.edu.br</p>
            <mat-divider></mat-divider>
            <p>Telefone 1 - 444444444</p>
            <mat-divider></mat-divider>
            <p>Telefone 2 - 555555555</p>
            <mat-divider></mat-divider>
          </div>
          <p style="margin-top: 30px"><strong>Ponto de Retirada:</strong></p>
          <div>
            <mat-divider></mat-divider>
            <p>Estado - PR</p>
            <mat-divider></mat-divider>
            <p>CEP - 86750000</p>
            <mat-divider></mat-divider>
            <p>Logradouro - Rua Antenor Tenente, Numero: 23</p>
            <mat-divider></mat-divider>
          </div>
          <p style="margin-top: 30px"><strong>Ponto de Entrega:</strong></p>
          <div style="margin-bottom: 60px">
            <mat-divider></mat-divider>
            <p>Estado - PR</p>
            <mat-divider></mat-divider>
            <p>CEP - 86750000</p>
            <mat-divider></mat-divider>
            <p>Logradouro - Rua Antenor Tenente, Numero: 23</p>
            <mat-divider></mat-divider>
          </div>
        </div>
        <div style="display: flex; flex-direction: row; width: 100%">
          <div style="flex: 1 1 auto"></div>
          <button mat-raised-button color="accent" style="margin: 30px">
            Recusar
          </button>
          <button mat-raised-button color="primary" style="margin: 30px">
            Aceitar
          </button>
        </div>
      </div>
    </div>

    <div *ngIf="aComecar" class="message Comecar" style="margin-top: 30px">
      <h2>Iniciar Aluguel</h2>
    </div>
    <div *ngIf="aComecar" class="content Comecar">
      <div class="inicio">
        <img [src]="'assets/default-account-icon.png'" />
        <h2>Ola, {{ infoLocador.CadastroComum?.Nome }}</h2>

        <h3>Você esta pronto para começar o processo de aluguel?</h3>
        <div style="width: 60%">
          <p>
            A partir do momento em que o freteiro transporta o maquinário,
            inicia-se o período de aluguel. Selecione 'Começar' assim que o
            freteiro levar a máquina.
          </p>
        </div>
        <div style="display: flex; flex-direction: row; width: 100%">
          <div style="flex: 1 1 auto"></div>

          <button
            mat-raised-button
            color="primary"
            style="margin: 30px"
            (click)="comecarProcesso()"
          >
            Começar
          </button>
        </div>
      </div>
    </div>

    <div *ngIf="emAndamento" class="message Finalizar" style="margin-top: 30px">
      <h2>Concluir Aluguel</h2>
    </div>
    <div *ngIf="emAndamento" class="content Finalizar">
      <div class="inicio">
        <img [src]="'assets/default-account-icon.png'" />
        <h2>Ola, {{ infoLocador.CadastroComum?.Nome }}</h2>

        <h3>Deseja concluir o processo de Aluguel?</h3>
        <div style="width: 60%">
          <p>
            Ao termino do uso do maquinário, selecione "Finalizar" para poder
            dar procedimento ao processo de aluguel.
          </p>
        </div>
        <div style="display: flex; flex-direction: row; width: 100%">
          <div style="flex: 1 1 auto"></div>

          <button
            mat-raised-button
            color="primary"
            style="margin: 30px"
            (click)="finalizarAndamento()"
          >
            Finalizar
          </button>
        </div>
      </div>
    </div>

    <div
      *ngIf="segundaSelecaoFrete"
      class="message SegundaSelecaoFrete"
      style="margin-top: 30px"
    >
      <h2>Aguardando escolha de Frete</h2>
    </div>
    <div *ngIf="segundaSelecaoFrete" class="content SegundaSelecaoFrete">
      <div class="message" style="margin-top: 30px">
        <h2>Procure por um freteiro</h2>
      </div>
      <div class="inicio">
        <mat-form-field style="width: 60%" class="example-form-field">
          <mat-label>Valor do Frete</mat-label>
          <input #search type="text" matInput [matAutocomplete]="auto" />
          <mat-autocomplete autoActiveFirstOption #auto="matAutocomplete">
            <mat-option
              *ngFor="let option of filteredOptionsSubscribe | async"
              [value]="option"
            >
              {{ option }}
            </mat-option>
          </mat-autocomplete>
        </mat-form-field>
        <mat-form-field style="width: 60%" class="example-form-field">
          <mat-label>Pesquisar freteiro por Nome</mat-label>
          <input #search type="text" matInput [matAutocomplete]="auto" />
          <mat-autocomplete autoActiveFirstOption #auto="matAutocomplete">
            <mat-option
              *ngFor="let option of filteredOptionsSubscribe | async"
              [value]="option"
            >
              {{ option }}
            </mat-option>
          </mat-autocomplete>
        </mat-form-field>

        <div style="width: 100%">
          <div class="formContainer">
            <div class="footerList">
              <p>Seus Automoveis</p>
              <span class="example-spacer"></span>
              <button
                mat-mini-fab
                [color]="'primary'"
                (click)="addInfoAutomovel()"
              >
                <mat-icon>add </mat-icon>
              </button>
              <button
                mat-mini-fab
                [disabled]="!ListAutomovel.selectedOptions.hasValue()"
                [color]="'warn'"
                (click)="
                  remInfoAutomovel(
                    ListAutomovel.selectedOptions.selected[0].value
                  )
                "
              >
                <mat-icon matPrefix>delete</mat-icon>
              </button>
            </div>

            <div class="listEndereco">
              <mat-selection-list
                #ListAutomovel
                [multiple]="false"
                [ngStyle]="{'overflow-y': (userDate | async)?.CadastroFreteiro?.Automovel?.[0] ? 'scroll' : 'hidden'}"
              >
                <mat-list-option
                  *ngFor="
                    let item of (userDate | async)?.CadastroFreteiro?.Automovel
                  "
                  [value]="item._id"
                >
                  <span
                    (click)="
                      moveToAutomovel(
                        ListAutomovel.selectedOptions.selected[0].value
                      )
                    "
                    matListItemTitle
                    >{{ item.Nome }}</span
                  >
                  <span matListItemLine style="margin-left: 20px">{{
                    item.Categoria?.Nome
                  }}</span>
                </mat-list-option>
                <mat-list
                  *ngIf="
            !(userDate | async)?.CadastroFreteiro?.Automovel?.[0]
          "
                >
                  <mat-list-item matListItemTitle>
                    Você não possui automoveis Registrado
                  </mat-list-item>
                </mat-list>
              </mat-selection-list>
            </div>
          </div>
        </div>

        <div
          style="
            display: flex;
            flex-direction: row;
            width: 100%;
            align-self: last baseline;
          "
        >
          <div style="flex: 1 1 auto"></div>
          <button
            mat-raised-button
            color="accent"
            style="margin: 30px"
            (click)="skipFrete()"
          >
            Pular
          </button>
          <button mat-raised-button color="primary" style="margin: 30px">
            Concluir
          </button>
        </div>
      </div>
    </div>

    <div
      *ngIf="selecionarPreco"
      class="message SelecionarPreco"
      style="margin-top: 30px"
    >
      <h2>Selecionar Preço do Aluguel</h2>
    </div>
    <div *ngIf="selecionarPreco" class="content SelecionarPreco">
      <div class="inicio">
        <img [src]="'assets/default-account-icon.png'" />
        <h2>Ola, {{ infoLocador.CadastroComum?.Nome }}</h2>
        <div style="width: 60%">
          <p>
            Revise seu maquinário e selecione o preço apropriado a ser cobrado
            do locatário.
          </p>
          <mat-form-field style="width: 100%">
            <mat-label>Input</mat-label>
            <input matInput [formControl]="myControlSelectPreco" />
          </mat-form-field>
        </div>
        <div style="display: flex; flex-direction: row; width: 100%">
          <div style="flex: 1 1 auto"></div>

          <button
            mat-raised-button
            color="primary"
            style="margin: 30px"
            (click)="selectPreco()"
          >
            Enviar
          </button>
        </div>
      </div>
    </div>

    <div
      *ngIf="confirmarPreco"
      class="message AvaliarPreco"
      style="margin-top: 30px"
    >
      <h2>Avaliar Preço</h2>
    </div>
    <div *ngIf="confirmarPreco" class="content AvaliarPreco">
      <div class="inicio">
        <img [src]="'assets/default-account-icon.png'" />
        <h2>Ola, {{ infoLocatario.CadastroComum?.Nome }}</h2>
        <h2>R${{ (processItem | async)?.Pagamento?.Valor }}</h2>
        <div
          style="
            width: 60%;
            align-items: center;
            display: flex;
            justify-content: center;
          "
        >
          <p>O locador propôs o seguinte preço para a locação do maquinário.</p>
        </div>
        <div style="display: flex; flex-direction: row; width: 100%">
          <div style="flex: 1 1 auto"></div>
          <button
            mat-raised-button
            color="accent"
            style="margin: 30px"
            (click)="recusarPreco()"
          >
            Recusar
          </button>

          <button
            mat-raised-button
            color="primary"
            style="margin: 30px"
            (click)="aceitarPreco()"
          >
            Aceitar
          </button>
        </div>
      </div>
    </div>

    <div
      *ngIf="refazerPreco"
      class="message RefazerPreco"
      style="margin-top: 30px"
    >
      <h2>Negociar Preço do Aluguel</h2>
    </div>
    <div *ngIf="refazerPreco" class="content RefazerPreco">
      <div class="inicio">
        <img [src]="'assets/default-account-icon.png'" />
        <h2>Ola, (nome Locador)</h2>
        <div style="width: 60%">
          <p>
            Revise seu maquinário e selecione o preço apropriado a ser cobrado
            do locatário.
          </p>
          <mat-form-field style="width: 100%">
            <mat-label>Input</mat-label>
            <input matInput [formControl]="myControlSelectPreco" />
          </mat-form-field>
        </div>
        <div style="display: flex; flex-direction: row; width: 100%">
          <div style="flex: 1 1 auto"></div>

          <button
            mat-raised-button
            color="primary"
            style="margin: 30px"
            (click)="selectPreco()"
          >
            Enviar
          </button>
        </div>
      </div>
    </div>

    <div
      *ngIf="aPagar"
      class="message ConfirmarPagamento"
      style="margin-top: 30px"
    >
      <h2>Confirmar Pagamento</h2>
    </div>
    <div *ngIf="aPagar" class="content ConfirmarPagamento">
      <div class="inicio">
        <img [src]="'assets/default-account-icon.png'" />
        <h2>Ola, (nome Locador)</h2>

        <h3>Deseja concluir o processo de Aluguel?</h3>
        <div
          style="
            width: 60%;
            display: flex;
            align-items: center;
            justify-content: center;
          "
        >
          <p>
            Verifique se o locatário realizou o pagamento antes de concluir o
            processo de aluguel
          </p>
        </div>
        <div style="display: flex; flex-direction: row; width: 100%">
          <div style="flex: 1 1 auto"></div>

          <button
            mat-raised-button
            color="primary"
            style="margin: 30px"
            (click)="concluirProcesso()"
          >
            Concluir
          </button>
        </div>
      </div>
    </div>

    <div *ngIf="aAvaliar" class="message Avaliar" style="margin-top: 30px">
      <h2>Avaliar Maquinário</h2>
    </div>
    <div *ngIf="aAvaliar" class="content Avaliar">
      <div class="inicio">
        <img [src]="'assets/default-account-icon.png'" />
        <h2>Ola, (nome Locador)</h2>
        <div style="width: 60%">
          <p>
            Antes de finalizar o processo de aluguel, por favor, avalie o
            maquinário.
          </p>
          <mat-form-field style="width: 100%; height: 150px">
            <mat-label>Textarea</mat-label>
            <textarea matInput></textarea>
          </mat-form-field>
        </div>
        <div style="display: flex; flex-direction: row; width: 100%">
          <div style="flex: 1 1 auto"></div>

          <button mat-raised-button color="primary" style="margin: 30px">
            Avaliar
          </button>
        </div>
      </div>
    </div>

    <div *ngIf="false" class="message RemoverAvaliar" style="margin-top: 30px">
      <h2>Remover avaliação do Maquinário</h2>
    </div>
    <div *ngIf="false" class="content RemoverAvaliar">
      <div class="inicio">
        <img [src]="'assets/default-account-icon.png'" />
        <h2>Ola, (nome Locador)</h2>
        <h2>Deseja remover sua avaliação do maquinário?</h2>
        <div style="width: 60%"></div>
        <div style="display: flex; flex-direction: row; width: 100%">
          <div style="flex: 1 1 auto"></div>

          <button mat-raised-button color="primary" style="margin: 30px">
            Remover
          </button>
        </div>
      </div>
    </div>

    <div *ngIf="false" class="message ComecarFrete" style="margin-top: 30px">
      <h2>Iniciar Frete</h2>
    </div>
    <div *ngIf="false" class="content Comecar">
      <div class="inicio">
        <img [src]="'assets/default-account-icon.png'" />
        <h2>Ola, (nome Locador)</h2>

        <h3>Você esta pronto para começar o processo de Frete?</h3>

        <div style="display: flex; flex-direction: row; width: 100%">
          <div style="flex: 1 1 auto"></div>

          <button mat-raised-button color="primary" style="margin: 30px">
            Começar
          </button>
        </div>
      </div>
    </div>

    <div *ngIf="false" class="message FinalizarFrete" style="margin-top: 30px">
      <h2>Concluir Frete</h2>
    </div>
    <div *ngIf="false" class="content FinalizarFrete">
      <div class="inicio">
        <img [src]="'assets/default-account-icon.png'" />
        <h2>Ola, (nome Locador)</h2>

        <h3>Deseja concluir o processo de Aluguel?</h3>

        <div style="display: flex; flex-direction: row; width: 100%">
          <div style="flex: 1 1 auto"></div>

          <button mat-raised-button color="primary" style="margin: 30px">
            Finalizar
          </button>
        </div>
      </div>
    </div>

    <div
      *ngIf="false"
      class="message ConfirmarPagamentoFrete"
      style="margin-top: 30px"
    >
      <h2>Confirmar Pagamento</h2>
    </div>
    <div *ngIf="false" class="content ConfirmarPagamentoFrete">
      <div class="inicio">
        <img [src]="'assets/default-account-icon.png'" />
        <h2>Ola, (nome Locador)</h2>

        <h3>Deseja concluir o processo de Frete?</h3>
        <div style="width: 60%">
          <p>
            Verifique se o locador realizou o pagamento antes de concluir o
            processo de Frete.
          </p>
        </div>
        <div style="display: flex; flex-direction: row; width: 100%">
          <div style="flex: 1 1 auto"></div>

          <button mat-raised-button color="primary" style="margin: 30px">
            Concluir
          </button>
        </div>
      </div>
    </div>

    <div *ngIf="false" class="message AvaliarFrete" style="margin-top: 30px">
      <h2>Avaliar Frete</h2>
    </div>
    <div *ngIf="false" class="content AvaliarFrete">
      <div class="inicio">
        <img [src]="'assets/default-account-icon.png'" />
        <h2>Ola, (nome Locador)</h2>
        <div style="width: 60%">
          <p>
            Antes de finalizar o processo de frete, por favor, avalie o frete.
          </p>
          <mat-form-field style="width: 100%; height: 150px">
            <mat-label>Textarea</mat-label>
            <textarea matInput></textarea>
          </mat-form-field>
        </div>
        <div style="display: flex; flex-direction: row; width: 100%">
          <div style="flex: 1 1 auto"></div>

          <button mat-raised-button color="primary" style="margin: 30px">
            Avaliar
          </button>
        </div>
      </div>
    </div>

    <div
      *ngIf="false"
      class="message RemoverAvaliarFrete"
      style="margin-top: 30px"
    >
      <h2>Remover avaliação do Frete</h2>
    </div>
    <div *ngIf="false" class="content RemoverAvaliarFrete">
      <div class="inicio">
        <img [src]="'assets/default-account-icon.png'" />
        <h2>Ola, (nome Locador)</h2>
        <h2>Deseja remover sua avaliação do Frete?</h2>
        <div style="width: 60%"></div>
        <div style="display: flex; flex-direction: row; width: 100%">
          <div style="flex: 1 1 auto"></div>

          <button mat-raised-button color="primary" style="margin: 30px">
            Remover
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
